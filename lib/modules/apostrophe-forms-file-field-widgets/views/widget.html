{# ids must be unique doc-wide #}
{% set id = apos.utils.generateId() %}
{% set widget = data.widget %}
<label for="{{ id }}" class="{% if data.widget.classPrefix %}{{data.widget.classPrefix}}__label{% else %}apos-forms-label{% endif %}">
  {{ widget.fieldLabel}}
  {% if not widget.required %} {{ __("(Optional)") }}{% endif %}
  <span class="% if data.widget.classPrefix %}{{data.widget.classPrefix}}__label-message{% else %}apos-forms-label-message{% endif %}" data-apos-input-message="{{ widget.fieldName}}" hidden></span>
  <span class="{% if data.widget.classPrefix %}{{data.widget.classPrefix}}__label-message{% else %}apos-forms-label-message{% endif %}" data-apos-forms-file-spinner hidden>Uploading...</span>
  <span class="{% if data.widget.classPrefix %}{{data.widget.classPrefix}}__error {{data.widget.classPrefix}}__label-message{% else %}apos-forms-error apos-forms-label-message{% endif %}" data-apos-forms-file-error role="alert" hidden>An error occurred uploading the file. It may be too large or of an inappropriate type.</span>
</label>
<input class="apos-forms-input" type="file" id="{{ id }}" multiple
  name="{{ widget.fieldName}}" {% if widget.required %}required{% endif %}>